import streamlit as st

# è®¾ç½®é¡µé¢
st.set_page_config(page_title="å¸¦æ”¾å¤§é•œçš„å›¾ç‰‡", layout="centered")
st.title("å›¾ç‰‡æŸ¥çœ‹å™¨")

# å›¾ç‰‡è·¯å¾„æˆ–URL
image_path = "https://picsum.photos/800/600"  # ç¤ºä¾‹å›¾ç‰‡

# ---------------------------- ä½¿ç”¨ st.dialog çš„æ–¹æ¡ˆ ----------------------------

# 1. å®šä¹‰ä¸€ä¸ªå¯¹è¯æ¡†å‡½æ•°
@st.dialog("å…¨å±å›¾ç‰‡æŸ¥çœ‹")
def show_fullscreen_image(image_url):
    """æ˜¾ç¤ºå…¨å±å›¾ç‰‡çš„å¯¹è¯æ¡†"""
    # ä½¿ç”¨å¤§å®½åº¦æ˜¾ç¤ºå›¾ç‰‡
    st.image(image_url, use_column_width=True, caption="ç‚¹å‡»æŸ¥çœ‹åŸå›¾")
    # æ·»åŠ å…³é—­æŒ‰é’®
    if st.button("å…³é—­æŸ¥çœ‹"):
        st.rerun()  # å…³é—­å¯¹è¯æ¡†

# 2. åˆ›å»ºå›¾ç‰‡å’Œæ”¾å¤§é•œå›¾æ ‡çš„å¸ƒå±€
st.subheader("ç‚¹å‡»æ”¾å¤§é•œæŸ¥çœ‹å¤§å›¾")

# ä½¿ç”¨åˆ—å¸ƒå±€æ¥æ”¾ç½®å›¾ç‰‡å’ŒæŒ‰é’®
col1, col2 = st.columns([10, 1])  # å·¦è¾¹å›¾ç‰‡å 10ä»½ï¼Œå³è¾¹æŒ‰é’®å 1ä»½

with col1:
    # æ˜¾ç¤ºä¸»å›¾ç‰‡
    st.image(image_path, use_column_width=True)

with col2:
    # åœ¨å³ä¸Šè§’æ”¾ç½®ä¸€ä¸ªæ”¾å¤§é•œæŒ‰é’®
    # æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¾ˆå°çš„æŒ‰é’®ï¼Œç”¨æ”¾å¤§é•œemoji
    if st.button("ğŸ”", key="fullscreen_btn", help="ç‚¹å‡»æ”¾å¤§æŸ¥çœ‹"):
        # è§¦å‘å¯¹è¯æ¡†
        show_fullscreen_image(image_path)

# å¯é€‰ï¼šæ·»åŠ ä¸€äº›è¯´æ˜
st.markdown("""
---
**è¯´æ˜ï¼š**
- ç‚¹å‡»å›¾ç‰‡å³ä¸Šè§’çš„ ğŸ” æŒ‰é’®ï¼Œå¯ä»¥åœ¨å¤§çª—å£ä¸­æŸ¥çœ‹å›¾ç‰‡ã€‚
- åœ¨å¯¹è¯æ¡†ä¸­ç‚¹å‡» "å…³é—­æŸ¥çœ‹" æŒ‰é’®å¯ä»¥è¿”å›ã€‚
""")